---
import Layout from '@/layouts/Layout.astro';
import { getI18n, LANGUAGES } from '@utils/i18n';

export async function getStaticPaths() {
	return LANGUAGES.map(lang => ({ params: { lang } }));
}

const { lang, t } = getI18n(Astro.params.lang);
---

<Layout title={t.pageTitle}>
	<section class="bg-white dark:bg-gray-900">
		<div class="py-8 px-4 mx-auto max-w-screen-xl text-center lg:py-16">
			<h1 class="mb-4 text-4xl font-extrabold tracking-tight leading-none text-gray-900 md:text-5xl lg:text-6xl dark:text-white">
				{t.hero.title}
			</h1>
			<p class="mb-8 text-lg font-normal text-gray-500 lg:text-xl sm:px-16 lg:px-48 dark:text-gray-400">
				{t.hero.subtitle}
			</p>
		</div>
	</section>

	<section class="bg-white dark:bg-gray-800">
		<div class="py-8 px-4 mx-auto max-w-screen-md text-center lg:py-16">
			<h2 class="mb-4 text-2xl font-bold tracking-tight text-gray-900 dark:text-white">{t.usage.title}</h2>
			<p class="mb-6 text-gray-500 dark:text-gray-400">{t.usage.description}</p>
			<div class="relative max-w-lg mx-auto">
				<code id="npm-command" class="block w-full p-4 text-gray-900 border border-gray-300 rounded-lg bg-gray-50 text-base dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white">
					npm create astro-template-znu@latest
				</code>
				<button id="copy-button" class="text-white absolute end-2.5 bottom-2.5 bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">{t.usage.copy}</button>
			</div>
		</div>
	</section>

	<section class="bg-gray-50 dark:bg-gray-800">
		<div class="py-8 px-4 mx-auto max-w-screen-xl lg:py-16">
			<h2 class="mb-8 text-3xl font-extrabold tracking-tight leading-tight text-center text-gray-900 lg:mb-16 dark:text-white">
				{t.features.title}
			</h2>
			<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
				{t.features.list.map(feature => (
					<div class="p-6 bg-white rounded-lg border border-gray-200 shadow-md dark:bg-gray-700 dark:border-gray-600">
						<h3 class="mb-2 text-xl font-bold dark:text-white">{feature.title}</h3>
						<p class="text-gray-500 dark:text-gray-400">{feature.description}</p>
					</div>
				))}
			</div>
		</div>
	</section>

	<section class="bg-white dark:bg-gray-900">
		<div class="py-8 px-4 mx-auto max-w-screen-xl lg:py-16">
			<h2 class="mb-8 text-3xl font-extrabold tracking-tight leading-tight text-center text-gray-900 lg:mb-12 dark:text-white">
				{t.demo.title}
			</h2>
			<div class="bg-white dark:bg-gray-700 p-6 rounded-lg border border-gray-200 dark:border-gray-600 shadow-md max-w-4xl mx-auto">
				<p class="mb-4 text-gray-500 dark:text-gray-400">{t.demo.description}</p>
				<div class="flex flex-wrap gap-4 mb-4">
					<button id="fetch-posts" type="button" class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800">
						{t.demo.button_posts}
					</button>
					<button id="fetch-products" type="button" class="text-white bg-purple-700 hover:bg-purple-800 focus:ring-4 focus:ring-purple-300 font-medium rounded-lg text-sm px-5 py-2.5 dark:bg-purple-600 dark:hover:bg-purple-700 focus:outline-none dark:focus:ring-purple-800">
						{t.demo.button_products}
					</button>
				</div>
				<pre id="api-result" class="bg-gray-100 dark:bg-gray-800 p-4 rounded-lg text-sm text-gray-800 dark:text-gray-300 overflow-x-auto">{t.demo.result_placeholder}</pre>
				<div id="cache-status" class="mt-2 text-sm font-medium text-gray-600 dark:text-gray-300"></div>
			</div>
		</div>
	</section>
</Layout>